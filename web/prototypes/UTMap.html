<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" http-equiv="Access-Control-Allow-Origin" content="*" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Baloo|Lilita+One|Righteous" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Niconne" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Courgette" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One|PT+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amaranth" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Archivo+Black" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cabin" rel="stylesheet">

    <title>UTMap</title>

    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <style type="text/css">
        body{
            margin:0;
            /*background-image: url("https://static.pexels.com/photos/64208/pexels-photo-64208.jpeg");*/
            background-color: #CCCC77;
            background-size: cover;
            z-index : -1;
            overflow: scroll;
        }
        ::-webkit-scrollbar {display:none}
        .scroll_content{
            -ms-scroll-chaining: chained;
            -ms-overflow-style: none;
            -ms-content-zooming: zoom;
            -ms-scroll-rails: none;
            -ms-content-zoom-limit-min: 100%;
            -ms-content-zoom-limit-max: 500%;
            -ms-scroll-snap-type: proximity;
            -ms-scroll-snap-points-x: snapList(100%, 200%, 300%, 400%, 500%);
            -ms-overflow-style: none;
            overflow: auto;
        }
        .button {
            font-family: 'Cabin', sans-serif;
            display: inline-block;
            margin-top: 4px;
            margin-bottom: 4px;
            padding: 0.4% 1%;
            font-size: 100%;
            text-align: center;
            cursor: pointer;
            outline: none;
            border: none;
            border-radius: 5px;
            background-color: rgba(153,204,0,0.65);
            color: white;
            text-decoration: none;
            -webkit-transition-duration: 0.4s; /* Safari */
            transition-duration: 0.4s;
        }

        .button:hover {
            background-color: #006633;;
            color: white;
            box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
        }

        .button-result{
            font-family: 'Fjalla One', sans-serif;
            margin-top: 4px;
            margin-bottom: 4px;
            padding: 3%;
            font-size: 150%;
            text-align: center;
            cursor: pointer;
            outline: none;
            border: none;
            border-radius: 4px;
            color: black;
            background-color: #CC9933;
            display : inline-block;
            -webkit-transition-duration: 0.4s; /* Safari */
            transition-duration: 0.4s;
        }

        .button-result span {
            cursor: pointer;
            display: inline-block;
            position: relative;
            transition: 0.5s;
        }

        .button-result span:after {
            content: 'Â»';
            position: absolute;
            opacity: 0;
            top: 0;
            right: -20px;
            transition: 0.5s;
        }

        .button-result:hover span {
            padding-right: 25px;
        }

        .button-result:hover span:after {
            opacity: 1;
            right: 0;
        }

        .button-result:hover {background-color: #FFCC00}

        #command{
            font-family: 'Fira Sans', sans-serif;
            font-size:100%;
            border-radius: 4px;
            background-color: rgba(102,153,51,0.7);
            display: inline-block;
            margin-top: 4px;
            margin-bottom: 4px;
            width: 90%;
            padding: 2%;
            text-align: center;
            cursor: pointer;
            outline: none;
            border: none;
            color: white;
            text-decoration: none;
            -webkit-transition-duration: 0.4s; /* Safari */
            transition-duration: 0.4s;
        }

        #command:hover {
            background-color: #996633;
            color: white;
            box-shadow: 0 5px 5px 0 rgba(0,0,0,0.24),0 5px 10px 0 rgba(0,0,0,0.19);
        }

        #command:active {
            color: white;
            background-color: #996633;
            box-shadow: 0 5px #663300;
            transform: translateY(2px);
        }

        a {
            color:#CC6600;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
            color: #FF9999;
        }

        .app{
            margin-top:1.5%;
            margin-left:2%;
            margin-right:2%;
            width:32%;
            vertical-align: middle;
            text-align: center;
            font-size:120%;
            overflow: scroll;
        }

        #map{
            display : none;
            margin-top: 2%;
            margin-left: 30%;
            margin-right: 5%;
            width:60%;
            height:100%;
            position: absolute;
            background-color: rgb(60, 60, 60);
        }
        #map2{
            display :inline-block;
            top: 35%;
            left: 45%;
            width: 50%;
            height: 60%;
            position: absolute;
            border: 1px solid #fafafa;
        }

        body{padding-top: 2%}
        #top{
            position: fixed;
            top:0;
            width:100%;
            height: 3%;
            z-index:800;
            font-color: #333333;
        }

        #p1{
            font-family: 'Amaranth', sans-serif;
            font-size: 100%;
            margin-top:5%;
            margin-left:2%;
            color: #fff;
            display: inline-block;
        }
        #p2{
            font-family: 'Amaranth', sans-serif;
            font-size: 100%;
            color: #fff;
            display: inline-block;
        }

        #list{
            font-family: 'Amaranth', sans-serif;
            display : inline-block;
            background: rgb(255, 255, 236);
            font-size: 85%;
            margin-left: 2%;
        }

        #inputBound{
            font-family: 'Amaranth', sans-serif;
            display : inline-block;
            background: rgb(255, 255, 236);
            font-size: 85%;
            margin-left: 2%;
        }


        #inputName{
            font-family: 'Amaranth', sans-serif;
            font-size:85%;
        }

        .topleft-block{
            font-family: 'Amaranth', sans-serif;
            left: 3%;
            top: 4%;
            width: 65%;
            height: 44%;
            position: absolute;
            display: table-cell;
        }

        .search-method-block{
            font-family: 'Amaranth', sans-serif;
            left: 0%;
            top: 3%;
            width: 59%;
            height: 100%;
            overflow: scroll;
            position: absolute;
            text-align: center;
            display: table-cell;
        }

        .resultcard{
            left: 3.5%;
            top: 50%;
            width: 37%;
            height: 45.2%;
            position: absolute;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            text-align: center;
            display: table-cell;
        }

        div.resultcardheader {
            font-family: 'Amaranth', sans-serif;
            background-color: rgba(0,51,0,0.5);
            color: white;
            padding: 1%;
            font-size: 120%;
            width: 100%;
            height: 10%;
            position: absolute;
        }

        #result{
            font-family: "Gill Sans Extrabold", Helvetica, sans-serif;
            left:0%;
            top: 10%;
            width:100%;
            height:90%;
            background-color: #CC99;
            color: #333333;
            position: absolute;
            font-size:100%;
            overflow: scroll;
            text-align: center;
        }

        .detailcard{
            left: 45%;
            top: 5%;
            width: 50%;
            height: 25%;
            position: absolute;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            text-align: center;
            display: table-cell;
            overflow: scroll;
        }

        div.detailcardheader {
            font-family: 'Amaranth', sans-serif;
            background-color: rgba(0,51,0,0.5);
            color: white;
            padding: 1%;
            font-size: 100%;
        }

        div.detailcardcontainer {
            font-family: "Gill Sans Extrabold", Helvetica, sans-serif;
            padding: 3%;
            font-size: 120%;
        }
        @media (max-width: 767px) {
            .topleft-block{
                font-family: 'Amaranth', sans-serif;
                left: 1%;
                right: 1%;
                top: 3%;
                width: 165%;
                height: 40%;
                position: absolute;
                display: table-cell;
            }
            #map2{
                display :inline-block;
                top: 45%;
                left: 5%;
                right: 5%;
                width: 90%;
                height: 50%;
                position: absolute;
                border: 1px solid #fafafa;
            }
            .resultcard{
                left: 2%;
                right: 2%;
                top: 105%;
                width: 96%;
                height: 45%;
                position: absolute;
                box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
                text-align: center;
                display: table-cell;
            }
            .detailcard{
                left: 2%;
                right: 2%;
                top: 155%;
                width: 96%;
                height: 45%;
                position: absolute;
                box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
                text-align: center;
                display: table-cell;
                overflow: scroll;
            }

        }
    </style>

    <!-- JS -->
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous">
    </script>
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3I_iEfRAhIEL--bKFtp2fjRs7ov-FaKU&libraries=places">
    </script>
</head>

<body>

<!-- TOP buttons -->
<div id="top">
    <a class = "button" href="mailto:wzh630754075@outlook.com">contact</a>
</div>

<!-- MAP -->
<div id = "map" ></div>
<div id = "map2" ></div>

<!--main application-->
<div class="app" id='1'>

    <div class="topleft-block" id="topleft">
        <div class="search-method-block" id="searchmethod">

            <h1 id = 'p1'>Enter the Building CODE (2 capital letters, like BA):</h1>
            <input type="text" name="building" id = "inputName" style="width: 87%;">
            <h1 id = 'p1'>Or select from the Buildings List:</h1>
            <select  style="width:89%" id = "list">
                <option value="AB">AB - Astronomy and Astrophysics</option>
                <option value="AD">AD - Enrolment Services</option>
                <option value="AH">AH - Muzzo Family Alumni Hall</option>
                <option value="AN">AN - Annesley Hall</option>
                <option value="AP">AP - Anthropology Building</option>

                <option value="BA">BA - Bahen Centre for Information Technology</option>
                <option value="BC">BC - Birge-Carnegie Library</option>
                <option value="BF">BF - Bancroft Building</option>
                <option value="BI">BI - Banting Institute</option>
                <option value="BL">BL - Claude T Bissell Building</option>
                <option value="BN">BN - Clara Benson Building</option>
                <option value="BR">BR - Brennan Hall</option>
                <option value="BS">BS - St Basils Church</option>
                <option value="BT">BT - Isabel Bader Theatre</option>
                <option value="BW">BW - Burwash Hall</option>

                <option value="CA">CA - Campus Co-op Day Care</option>
                <option value="CB">CB - Best Institute</option>
                <option value="CE">CE - Centre for Engineering Innovation</option>
                <option value="CG">CG - Canadiana Gallery</option>
                <option value="CH">CH - Convocation Hall</option>
                <option value="CM">CM - Student Commons</option>
                <option value="CN">CN - 89 Chestnut Residence</option>
                <option value="CO">CO - Comparative Education Services 162 St George St</option>
                <option value="CR">CR - Carr Hall</option>
                <option value="CS">CS - School of Continuing Studies</option>
                <option value="CU">CU - Cumberland House</option>
                <option value="CX">CX - Communication House</option>

                <option value="DA">DA - Daniels Building</option>
                <option value="DC">DC - Terrence Donnelly CCBR</option>
                <option value="DN">DN - Dentistry Building</option>
                <option value="DR">DR - J Robert S Prichard Alumni House</option>

                <option value="EA">EA - Engineering Annex</option>
                <option value="EH">EH - Elmsley Hall</option>
                <option value="EJ">EJ - Edward Johnson Building</option>
                <option value="EM">EM - Emmanuel College</option>
                <option value="EP">EP - Stewart building</option>
                <option value="ER">ER - Early Learning Centre</option>
                <option value="ES">ES - Earth Sciences Centre</option>
                <option value="EX">EX - Exam Centre</option>

                <option value="FA">FA - Faculty Association</option>
                <option value="FC">FC - Faculty Club</option>
                <option value="FE">FE - 371 Bloor Street West</option>
                <option value="FG">FG - FitzGerald Building</option>
                <option value="FH">FH - Falconer Hall</option>
                <option value="FI">FI - Fields Institute</option>

                <option value="GA">GA - Gage Building</option>
                <option value="GB">GB - Galbraith Building</option>
                <option value="GC">GC - Goldring Student Centre</option>
                <option value="GD">GD - Graduate House</option>
                <option value="GE">GE - Max Gluskin House</option>
                <option value="GI">GI - George Ignatieff Theatre</option>
                <option value="GM">GM - Luella Massey Studio Theatre</option>
                <option value="GO">GO - Goldring Centre for High Performance Sport</option>
                <option value="GR">GR - Graham (John W) Library</option>
                <option value="GS">GS - School of Graduate Studies</option>
                <option value="GU">GU - School of Graduate Studies</option>

                <option value="HA">HA - Haultain Building</option>
                <option value="HH">HH - Hart House</option>
                <option value="HI">HI - St Hildas College</option>
                <option value="HS">HS - Health Sciences Building</option>
                <option value="HU">HU - 215 Huron Street</option>

                <option value="IA">IA - Internal Audit</option>
                <option value="IN">IN - Innis College</option>
                <option value="IR">IR - Centre for Industrial Relations</option>
                <option value="IS">IS - Innis College Student Residence</option>

                <option value="JH">JH - Jackman Humanities Building</option>
                <option value="JP">JP - 90 Wellesley St W</option>

                <option value="KL">KL - J M Kelly Library</option>
                <option value="KP">KP - Koffler House</option>
                <option value="KS">KS - Koffler Student Services Centre</option>
                <option value="KX">KX - Knox College</option>

                <option value="LA">LA - Gerald Larkin Building</option>
                <option value="LB">LB - Lower Burwash House</option>
                <option value="LC">LC - Loretto College</option>
                <option value="LG">LG - Fasken Martineau Building</option>
                <option value="LI">LI - Lillian Massey Building</option>
                <option value="LM">LM - Lash Miller Chemical Laboratories</option>
                <option value="LW">LW - Faculty of Law</option>

                <option value="M2">M2 - MARS 2</option>
                <option value="MA">MA - Massey College</option>
                <option value="MB">MB - Lassonde Mining Building</option>
                <option value="MC">MC - Mechanical Engineering Building</option>
                <option value="ME">ME - 39 Queens Park Cres East</option>
                <option value="MG">MG - Margaret Addison Hall</option>
                <option value="MK">MK - Munk School of Global Affairs at Observatory</option>
                <option value="ML">ML - McLuhan Program</option>
                <option value="MM">MM - MacDonald-Mowat House</option>
                <option value="MO">MO - Morrison Hall</option>
                <option value="MP">MP - McLennan Physical Labs</option>
                <option value="MR">MR - McMurrich Building</option>
                <option value="MS">MS - Medical Sciences Building</option>
                <option value="MU">MU - Munk School of Global Affairs at Trinity</option>

                <option value="NB">NB - North Borden Building</option>
                <option value="NC">NC - New College</option>
                <option value="NF">NF - Northrop Frye Hall</option>
                <option value="NL">NL - C David Naylor Building</option>
                <option value="NR">NR - New College III</option>

                <option value="OA">OA - Old Admin Building Board of Education (263 McCaul St)</option>
                <option value="OH">OH - Odette Hall</option>
                <option value="OI">OI - Ontario Institute for Studies in Education</option>

                <option value="PB">PB - Leslie L Dan Pharmacy Building</option>
                <option value="PG">PG - Physical Geography Laboratories (45 St George St)</option>
                <option value="PI">PI - Pontifical Institute</option>
                <option value="PR">PR - E J Pratt Library</option>
                <option value="PT">PT - D L Pratt Building</option>

                <option value="RB">RB - Fisher Rare Book Library</option>
                <option value="RG">RG - Regis College</option>
                <option value="RJ">RJ - Rowell Jackman Hall</option>
                <option value="RL">RL - John P Robarts Library</option>
                <option value="RM">RM - 254-56 McCaul Street</option>
                <option value="RS">RS - Rosebrugh Building</option>
                <option value="RT">RT - Rotman School of Management</option>
                <option value="RU">RU - Rehabilitation Sciences Building</option>
                <option value="RW">RW - Ramsay Wright Laboratories</option>

                <option value="SA">SA - 713 Spadina Ave</option>
                <option value="SB">SB - South Borden Building</option>
                <option value="SC">SC - Sussex Court</option>
                <option value="SD">SD - Sir Daniel Wilson Residence</option>
                <option value="SF">SF - Sandford Fleming Building</option>
                <option value="SI">SI - Simcoe Hall</option>
                <option value="SK">SK - Factor-Inwentash Social Work</option>
                <option value="SM">SM - Gerstein Science Info Centre in Sigmund Samuel Lib Bldg</option>
                <option value="SO">SO - Stewart Observatory</option>
                <option value="SR">SR - Sam Sorbara Hall Student Res</option>
                <option value="SS">SS - Sidney Smith Hall</option>
                <option value="SU">SU - 40 Sussex Ave</option>

                <option value="TC">TC - Trinity College</option>
                <option value="TF">TF - Teefy Hall</option>
                <option value="TH">TH - Toronto School of Theology</option>
                <option value="TR">TR - Soldiers Tower</option>
                <option value="TT">TT - 455 Spadina Ave</option>

                <option value="UB">UB - Upper Burwash House</option>
                <option value="UC">UC - University College</option>
                <option value="UP">UP - University College Union</option>

                <option value="VA">VA - Varsity Centre</option>
                <option value="VC">VC - Victoria College</option>
                <option value="VI">VI - Nona MacDonald Visitors Centre</option>
                <option value="VP">VP - Varsity Pavilion</option>

                <option value="WA">WA - 123 St George St</option>
                <option value="WB">WB - Wallberg Building</option>
                <option value="WE">WE - Wetmore Hall, New College</option>
                <option value="WI">WI - Wilson Hall, New College</option>
                <option value="WO">WO - Woodsworth College Residence</option>
                <option value="WR">WR - McCarthy House/Jackman Institute of Child Study</option>
                <option value="WS">WS - Warren Stevens Building</option>
                <option value="WT">WT - Whitney Hall</option>
                <option value="WW">WW - Woodsworth College</option>
                <option value="WY">WY - Wycliffe College</option>

                <option value="XG">XG - 665 Spadina Avenue</option>
                <option value="ZC">ZC - 88 College Street</option>
            </select>

            <h1 id = 'p2'>Select Distance Bound:</h1>
            <select id = "inputBound">
                <option value="200">200</option>
                <option value="500">500</option>
                <option value="800">800</option>
                <option value="2000">1000+</option>
            </select>

            <button id='command'><span>Search the Building and Restaurants Around!</span></button>

        </div>
    </div>

    <div class="resultcard">
        <div class="resultcardheader" id="result-header">Restaurant Results
        </div>

        <div class = "result" id = 'result'>
            <ul class="modify" id = "result-list"></ul>
        </div>
    </div>

    <div class="detailcard">
        <div class="detailcardheader" id="detail-header">Restaurant Info
        </div>

        <div class="detailcardcontainer" id="detail_container">
            <p id="detail_info"></p>
        </div>
    </div>
</div>

</body>

<script type="text/javascript">
    var map;
    var reslist={};
    var refresh = function() {
        $.ajax({
            url: "/api/getmessage",
            cache: false,
            success: success
        });
    }

    var success = function(res) {
        if (res.data==undefined){
            document.getElementById("back_info").innerHTML = 'No Info'
        }
        else{
            document.getElementById("back_info").innerHTML = res.data
        }
        setTimeout(refresh, 1000);
    }

    $(document).ready(function () {

        var startbtn = document.getElementById('startbtn');
        var close = document.getElementsByClassName('button');

        var app = document.getElementById('1');

        var top = (document.documentElement.clientHeight - 50) / 2 ;
        var left = (document.documentElement.clientWidth - 400) / 2;

        var center = {lat:43.663397,lng:-79.396122};
        map = new google.maps.Map(document.getElementById('map2'), {
            center: center,
            zoom: 15
        });

        refresh();
        $(document).on('click', '.button-result', function () {
            var id = $(this).attr('id');
            var p = reslist[id];
            if (p==undefined){
                $("#detail-header").empty();
                $("#detail-header").append('No Detail Information');
                document.getElementById("detail_container").innerHTML = "";
                comment = "No Comments";
                newp = document.createElement("p");
                newcomment = document.createTextNode(comment);
                newp.appendChild(newcomment);
                $("#detail_container").append(newp);
            }
            else{
                var loc = p.geometry.location
                var googleurl = p.url;
                var name = p.name;
                var ad = p.formatted_address;
                var rate = p.rating;
                $.ajax({type:'post',
                    url:'/detail',
                    data:{
                        resname:name,
                        gurl:googleurl,
                        address:ad,
                        rating:rate},
                });
                map.panTo(loc);
                $("#detail-header").empty();
                $("#detail-header").append('<p style="color:white;">'+
                    name+'<br>'+
                    'Full Adress:&ensp;'+ad+'<br>'+
                    'Rating:&ensp;'+rate+'<br>'+
                    '<a href="'+googleurl+'">'+'Google Map Page</a></p>');
                if (p.reviews[0].text=='') {
                    document.getElementById("detail_container").innerHTML = "";
                    comment = "No Comments";
                    newp = document.createElement("p");
                    newcomment = document.createTextNode(comment);
                    newp.appendChild(newcomment);
                    $("#detail_container").append(newp);
                } else {
                    document.getElementById("detail_container").innerHTML = "";
                    comment = "Other's Comment:";
                    newp = document.createElement("p");
                    newcomment = document.createTextNode(comment);
                    newp.appendChild(newcomment);
                    $("#detail_container").append(newp);
                    $("#detail_container").append(p.reviews[0].text);
                }
            }
        });
        app.style.height = document.documentElement.clientHeight + 'px';
    });

    var service = new google.maps.places.PlacesService(document.getElementById('map'));

    var dict = {"AB":new google.maps.LatLng(43.660474,-79.39745),
                "AD":new google.maps.LatLng(43.668097,-79.400255),
                "AH":new google.maps.LatLng(43.665019,-79.390244),
                "AN":new google.maps.LatLng(43.667524,-79.392614),
                "AP":new google.maps.LatLng(43.660066,-79.398537),

                "BA":new google.maps.LatLng(43.659724,-79.396774),
                "BC":new google.maps.LatLng(43.66721,-79.392909),
                "BF":new google.maps.LatLng(43.660975,-79.399587),
                "BI":new google.maps.LatLng(43.660418,-79.38854),
                "BL":new google.maps.LatLng(43.664993,-79.399091),
                "BN":new google.maps.LatLng(43.663048,-79.399926),
                "BR":new google.maps.LatLng(43.666337,-79.390072),
                "BS":new google.maps.LatLng(43.66626,-79.388929),
                "BT":new google.maps.LatLng(43.667365,-79.392561),
                "BW":new google.maps.LatLng(43.666975,-79.391113),

                "CA":new google.maps.LatLng(43.664485,-79.400582),
                "CB":new google.maps.LatLng(43.660229,-79.389225),
                "CE":new google.maps.LatLng(43.660634,-79.396745),
                "CG":new google.maps.LatLng(43.661916,-79.392763),
                "CH":new google.maps.LatLng(43.66097,-79.395158),
                "CM":new google.maps.LatLng(43.658454,-79.397899),
                "CN":new google.maps.LatLng(43.654095,-79.385443),
                "CO":new google.maps.LatLng(43.667105,-79.399786),
                "CR":new google.maps.LatLng(43.665111,-79.390396),
                "CS":new google.maps.LatLng(43.666813,-79.399642),
                "CU":new google.maps.LatLng(43.659379,-79.396185),
                "CX":new google.maps.LatLng(43.659088,-79.393641),

                "DA":new google.maps.LatLng(43.659341,-79.400626),
                "DC":new google.maps.LatLng(43.660084,-79.3927),
                "DN":new google.maps.LatLng(43.655988,-79.386637),
                "DR":new google.maps.LatLng(43.662138,-79.396541),

                "EA":new google.maps.LatLng(43.659738,-79.395248),
                "EH":new google.maps.LatLng(43.666742,-79.390278),
                "EJ":new google.maps.LatLng(43.666506,-79.39424),
                "EM":new google.maps.LatLng(43.666613,-79.392819),
                "EP":new google.maps.LatLng(43.659393,-79.392078),
                "ER":new google.maps.LatLng(43.664022,-79.401214),
                "ES":new google.maps.LatLng(43.660993,-79.399659),
                "EX":new google.maps.LatLng(43.658499,-79.393135),

                "FA":new google.maps.LatLng(43.665461,-79.403313),
                "FC":new google.maps.LatLng(43.661293,-79.400608),
                "FE":new google.maps.LatLng(43.666775,-79.402327),
                "FG":new google.maps.LatLng(43.660226,-79.392233),
                "FH":new google.maps.LatLng(43.666784,-79.393804),
                "FI":new google.maps.LatLng(43.658664,-79.397475),

                "GA":new google.maps.LatLng(43.65831,-79.397217),
                "GB":new google.maps.LatLng(43.659869,-79.396433),
                "GC":new google.maps.LatLng(43.667726,-79.39322),
                "GD":new google.maps.LatLng(43.663191,-79.401747),
                "GE":new google.maps.LatLng(43.666072,-79.399528),
                "GI":new google.maps.LatLng(43.665786,-79.397297),
                "GM":new google.maps.LatLng(43.664254,-79.401124),
                "GO":new google.maps.LatLng(43.667136,-79.398106),
                "GR":new google.maps.LatLng(43.664944,-79.39703),
                "GS":new google.maps.LatLng(43.661958,-79.397334),
                "GU":new google.maps.LatLng(43.660681,-79.400257),

                "HA":new google.maps.LatLng(43.659758,-79.393653),
                "HH":new google.maps.LatLng(43.663637,-79.394413),
                "HI":new google.maps.LatLng(43.665726,-79.39776),
                "HS":new google.maps.LatLng(43.65922,-79.392855),
                "HU":new google.maps.LatLng(43.659319,-79.398496),

                "IA":new google.maps.LatLng(43.665675,-79.402703),
                "IN":new google.maps.LatLng(43.665438,-79.39941),
                "IR":new google.maps.LatLng(43.666721,-79.399247),
                "IS":new google.maps.LatLng(43.665838,-79.398935),

                "JH":new google.maps.LatLng(43.667451,-79.400382),
                "JP":new google.maps.LatLng(43.66406,-79.389393),

                "KL":new google.maps.LatLng(43.665038,-79.3898),
                "KP":new google.maps.LatLng(43.660583,-79.400456),
                "KS":new google.maps.LatLng(43.658806,-79.396603),
                "KX":new google.maps.LatLng(43.661334,-79.397148),

                "LA":new google.maps.LatLng(43.665518,-79.397199),
                "LB":new google.maps.LatLng(43.666601,-79.390821),
                "LC":new google.maps.LatLng(43.667297,-79.389867),
                "LG":new google.maps.LatLng(43.66406,-79.40218),
                "LI":new google.maps.LatLng(43.668393,-79.393802),
                "LM":new google.maps.LatLng(43.661639,-79.397787),
                "LW":new google.maps.LatLng(43.666206,-79.39394),

                "M2":new google.maps.LatLng(43.659741,-79.389833),
                "MA":new google.maps.LatLng(43.664765,-79.397181),
                "MB":new google.maps.LatLng(43.659418,-79.393403),
                "MC":new google.maps.LatLng(43.659924,-79.394183),
                "ME":new google.maps.LatLng(43.664412,-79.390259),
                "MG":new google.maps.LatLng(43.668192,-79.392479),
                "MK":new google.maps.LatLng(43.667572,-79.398607),
                "ML":new google.maps.LatLng(43.664049,-79.389418),
                "MM":new google.maps.LatLng(43.661648,-79.397207),
                "MO":new google.maps.LatLng(43.663039,-79.39784),
                "MP":new google.maps.LatLng(43.660743,-79.398168),
                "MR":new google.maps.LatLng(43.661286,-79.392835),
                "MS":new google.maps.LatLng(43.661133,-79.393973),
                "MU":new google.maps.LatLng(43.664586,-79.396462),

                "NB":new google.maps.LatLng(43.6603,-79.400352),
                "NC":new google.maps.LatLng(43.661432,-79.400886),
                "NF":new google.maps.LatLng(43.666559,-79.392097),
                "NL":new google.maps.LatLng(43.660509,-79.391747),
                "NR":new google.maps.LatLng(43.661222,-79.400994),

                "OA":new google.maps.LatLng(43.658896,-79.392603),
                "OH":new google.maps.LatLng(43.666243,-79.388976),
                "OI":new google.maps.LatLng(43.667888,-79.39855),

                "PB":new google.maps.LatLng(43.659933,-79.391399),
                "PG":new google.maps.LatLng(43.660315,-79.396744),
                "PI":new google.maps.LatLng(43.665506,-79.390947),
                "PR":new google.maps.LatLng(43.666515,-79.391319),
                "PT":new google.maps.LatLng(43.659538,-79.394452),

                "RB":new google.maps.LatLng(43.664145,-79.399132),
                "RG":new google.maps.LatLng(43.663914,-79.390047),
                "RJ":new google.maps.LatLng(43.667704,-79.390924),
                "RL":new google.maps.LatLng(43.664559,-79.398833),
                "RM":new google.maps.LatLng(43.658596,-79.393418),
                "RS":new google.maps.LatLng(43.659828,-79.392892),
                "RT":new google.maps.LatLng(43.664991,-79.398596),
                "RU":new google.maps.LatLng(43.655671,-79.389088),
                "RW":new google.maps.LatLng(43.662976,-79.399218),

                "SA":new google.maps.LatLng(43.666001,-79.40294),
                "SB":new google.maps.LatLng(43.660115,-79.399922),
                "SC":new google.maps.LatLng(43.664825,-79.401014),
                "SD":new google.maps.LatLng(43.662507,-79.397548),
                "SF":new google.maps.LatLng(43.660005,-79.394795),
                "SI":new google.maps.LatLng(43.660931,-79.395828),
                "SK":new google.maps.LatLng(43.668114,-79.397739),
                "SM":new google.maps.LatLng(43.662176,-79.394115),
                "SO":new google.maps.LatLng(43.663172,-79.394786),
                "SR":new google.maps.LatLng(43.665735,-79.389108),
                "SS":new google.maps.LatLng(43.662668,-79.398465),
                "SU":new google.maps.LatLng(43.66495,-79.401796),

                "TC":new google.maps.LatLng(43.665062,-79.395548),
                "TF":new google.maps.LatLng(43.665265,-79.391097),
                "TH":new google.maps.LatLng(43.664756,-79.390855),
                "TR":new google.maps.LatLng(43.663512,-79.39523),
                "TT":new google.maps.LatLng(43.658213,-79.39989),

                "UB":new google.maps.LatLng(43.667255,-79.391081),
                "UC":new google.maps.LatLng(43.662498,-79.395477),
                "UP":new google.maps.LatLng(43.663301,-79.397814),

                "VA":new google.maps.LatLng(43.667008,-79.397236),
                "VC":new google.maps.LatLng(43.666976,-79.391998),
                "VI":new google.maps.LatLng(43.661489,-79.396369),
                "VP":new google.maps.LatLng(43.666293,-79.396817),

                "WA":new google.maps.LatLng(43.666901,-79.39938),
                "WB":new google.maps.LatLng(43.65904,-79.395275),
                "WE":new google.maps.LatLng(43.662403,-79.400414),
                "WI":new google.maps.LatLng(43.661488,-79.400888),
                "WO":new google.maps.LatLng(43.667454,-79.399289),
                "WR":new google.maps.LatLng(43.669625,-79.405952),
                "WS":new google.maps.LatLng(43.663096,-79.401476),
                "WT":new google.maps.LatLng(43.663738,-79.397978),
                "WW":new google.maps.LatLng(43.666264,-79.399046),
                "WY":new google.maps.LatLng(43.664586,-79.395219),

                "XG":new google.maps.LatLng(43.664379,-79.402342),
                "ZC":new google.maps.LatLng(43.660584,-79.387776)};

    var urldict = {"AB":'https://www.google.ca/maps/place/Astronomy+and+Astrophysics',
                   "AD":'https://www.google.ca/maps/place/Enrolment+Services',
                   "AH":'https://www.google.ca/maps/place/Muzzo+Family+Alumni+Hall',
                   "AN":'https://www.google.ca/maps/place/Annesley+Hall',
                   "AP":'https://www.google.ca/maps/place/Anthropology+Bldg',

                   "BA":'https://www.google.ca/maps/place/Bahen+Centre+for+Information+Technology',
                   "BC":'https://www.google.ca/maps/place/Korean+Pagoda',
                   "BF":'https://www.google.ca/maps/place/Bancroft+Building',
                   "BI":'https://www.google.ca/maps/place/Banting+%26+Best+Centre+for+Innovation+%26+Entrepreneurship',
                   "BL":'https://www.google.ca/maps/place/Claude+T.+Bissell+Building',
                   "BN":'https://www.google.ca/maps/place/Clara+Benson+Building',
                   "BR":'https://www.google.ca/maps/place/Brennan+Hall',
                   "BS":'https://www.google.ca/maps/place/St.+Basils+Catholic+Parish+at+the+University+Of+St.+Michaels+College',
                   "BT":'https://www.google.ca/maps/place/Isabel+Bader+Theatre',
                   "BW":'https://www.google.ca/maps/place/Burwash+Dining+Hall',

                   "CA":'https://www.google.ca/maps/place/Campus+Community+Cooperative+Day+Care+Centre',
                   "CB":'https://www.google.ca/maps/place/The+Banting+and+Best+Department+of+Medical+Research',
                   "CE":'https://www.google.ca/maps/place/47+St+George+St',
                   "CG":'https://www.google.ca/maps/place/Canadiana+Gallery',
                   "CH":'https://www.google.ca/maps/place/Convocation+Hall',
                   "CM":'https://www.google.ca/maps/place/John+H.+Daniels+Faculty+of+Architecture',
                   "CN":'https://www.google.ca/maps/place/Chestnut+Residence',
                   "CO":'https://www.google.ca/maps/place/Comparative+Education+Services+At+University+Of+Toronto',
                   "CR":'https://www.google.ca/maps/place/Carr+Hall',
                   "CS":'https://www.google.ca/maps/place/School+of+Continuing+Studies',
                   "CU":'https://www.google.ca/maps/place/Cumberland+House/@43.6593439,-79.3972762,18z/data=!4m5!3m4!1s0x0:0x95e17c25b31ffed1!8m2!3d43.6593439!4d-79.3963899',
                   "CX":'https://www.google.ca/maps/place/University+of+Toronto+Communications+House/@43.6608997,-79.3968078,17z/data=!4m8!1m2!2m1!1sUniversity+of+Toronto+Communications+House!3m4!1s0x882b34c790dd4f41:0x89ac3a9d5d5b369!8m2!3d43.6588999!4d-79.3935818',

                   "DA":'https://www.google.ca/maps/place/The+Daniels+Building/@43.6591245,-79.4014886,17z/data=!4m8!1m2!2m1!1sDaniels+Building!3m4!1s0x882b34c0656fd737:0xd60562cbd2faad10!8m2!3d43.6596809!4d-79.4007004',
                   "DC":'https://www.google.ca/maps/place/Terrence+Donnelly+Centre+for+Cellular+%26+Biomolecular+Research',
                   "DN":'https://www.google.ca/maps/place/Dentistry+Bldg',
                   "DR":'https://www.google.ca/maps/place/J.+Robert+S.+Prichard+Alumni+House,+Toronto,+ON+M5S+3J3',

                   "EA":'https://www.google.ca/maps/place/Engineering+Annex,+Toronto,+ON+M5S',
                   "EH":'https://www.google.ca/maps/place/Elmsley+Hall,+81+St+Mary+St,+Toronto,+ON+M5S+1J4',
                   "EJ":'https://www.google.ca/maps/place/Edward+Johnson+Bldg,+80+Queens+Park,+Toronto,+ON+M5S+2C5',
                   "EM":'https://www.google.ca/maps/place/Emmanuel+College',
                   "EP":'https://www.google.ca/maps/place/Stewart+building,+149+College+St,+Toronto,+ON+M5T+1P5',
                   "ER":'https://www.google.ca/maps/place/Early+Learning+Centre/@43.6642063,-79.4020142,18z/data=!4m8!1m2!2m1!1searly+learning+centre!3m4!1s0x0:0x3ed2e3b99ce0d59f!8m2!3d43.6641589!4d-79.400957',
                   "ES":'https://www.google.ca/maps/place/Earth+Sciences+Centre',
                   "EX":'https://www.google.ca/maps/place/University+of+Toronto+Exam+Centre',

                   "FA":'https://www.google.ca/maps/place/Faculty+Association,+Toronto,+ON+M5S+2T9',
                   "FC":'https://www.google.ca/maps/place/Faculty+Club,+41+Willcocks+St,+Toronto,+ON+M5S+1C7',
                   "FE":'https://www.google.ca/maps/place/371+Bloor+St+W,+Toronto,+ON+M5S+2R7',
                   "FG":'https://www.google.ca/maps/place/Fitzgerald+Bldg,+Toronto,+ON+M5S+3E2',
                   "FH":'https://www.google.ca/maps/place/Falconer+Hall,+84+Queens+Park,+Toronto,+ON+M5S+2C5',
                   "FI":'https://www.google.ca/maps/place/Fields+Institute,+Toronto,+ON+M5T+3J1',

                   "GA":'https://www.google.ca/maps/place/Gage+Bldg,+Toronto,+ON+M5T+1R4',
                   "GB":'https://www.google.ca/maps/place/Galbraith+Building',
                   "GC":'https://www.google.ca/maps/place/Goldring+Student+Centre',
                   "GD":'https://www.google.ca/maps/place/Graduate+House',
                   "GE":'https://www.google.ca/maps/place/Max+Gluskin+House,+150+St+George+St,+Toronto,+ON+M5S+2E9',
                   "GI":'https://www.google.ca/maps/place/George+Ignatieff+Theatre',
                   "GM":'https://www.google.ca/maps/place/Luella+Massey+Studio+Theatre',
                   "GO":'https://www.google.ca/maps/place/Goldring+Centre+for+High+Performance+Sport',
                   "GR":'https://www.google.ca/maps/place/John+W.+Graham+Library,+Trinity+College',
                   "GS":'https://www.google.ca/maps/place/SGS+Student+Services',
                   "GU":'https://www.google.ca/maps/place/University+of+Toronto+Graduate+Students+Union',

                   "HA":'https://www.google.ca/maps/place/Haultain+Bldg,+170+College+St,+Toronto,+ON+M5S+3E3',
                   "HH":'https://www.google.ca/maps/place/Hart+House+Building,+7+Hart+House+Cir,+Toronto,+ON+M5S+3H3',
                   "HI":'https://www.google.ca/maps/place/St+Hildas+College,+Toronto,+ON+M5S+2E2',
                   "HS":'https://www.google.ca/maps/place/Health+Sciences+Bldg,+155+College+St,+Toronto,+ON+M5T+1P8',
                   "HU":'https://www.google.ca/maps/place/215+Huron+St,+Toronto,+ON+M5T+1R2',

                   "IA":'https://www.google.ca/maps/place/703+Spadina+Ave,+Toronto,+ON+M5S+2J4',
                   "IN":'https://www.google.ca/maps/place/Innis+College',
                   "IR":'https://www.google.ca/maps/place/Industrial+Relations+and+Human+Resources+Library',
                   "IS":'https://www.google.ca/maps/place/Innis+College+Residence',

                   "JH":'https://www.google.ca/maps/place/Jackman+Humanities+Building,+262+Bloor+St+W,+Toronto,+ON+M5S+1V8',
                   "JP":'https://www.google.ca/maps/place/90+Wellesley+St+W,+Toronto,+ON+M5S+1C5',

                   "KL":'https://www.google.ca/maps/place/John+M.+Kelly+Library+University+of+St.+Michaels+College',
                   "KP":'https://www.google.ca/maps/place/Koffler+House',
                   "KS":'https://www.google.ca/maps/place/Koffler+Student+Services+Centre,+214+College+St,+Toronto,+ON+M5T+3A1',
                   "KX":'https://www.google.ca/maps/place/Knox+College',

                   "LA":'https://www.google.ca/maps/place/Gerald+Larkin+Bldg,+Toronto,+ON+M5S+2C8',
                   "LB":'https://www.google.ca/maps/place/Burwash+Hall,+Toronto,+ON+M5S+1K6',
                   "LC":'https://www.google.ca/maps/place/Loretto+College+Residence',
                   "LG":'https://www.google.ca/maps/place/Fasken+Martineau+Building,+655+Spadina+Ave,+Toronto,+ON+M5S+2H9',
                   "LI":'https://www.google.ca/maps/place/Lillian+Massey+Bldg,+Toronto,+ON',
                   "LM":'https://www.google.ca/maps/place/Lash+Miller+Chemical+Labs,+Toronto,+ON+M5S',
                   "LW":'https://www.google.ca/maps/place/University+of+Toronto+Faculty+of+Law',

                   "M2":'https://www.google.ca/maps/place/MaRS+Innovation',
                   "MA":'https://www.google.ca/maps/place/Massey+College',
                   "MB":'https://www.google.ca/maps/place/Lassonde+Mining+Building,+170+College+St,+Toronto,+ON+M5S+3E3',
                   "MC":'https://www.google.ca/maps/place/Mechanical+Engineering+Building,+Toronto,+ON+M5S',
                   "ME":'https://www.google.ca/maps/place/39+Queens+Park+Cres+E,+Toronto,+ON+M5S+2C3',
                   "MG":'https://www.google.ca/maps/place/Margaret+Addison+Hall,+140+Charles+St+W,+Toronto,+ON+M5S',
                   "MK":'https://www.google.ca/maps/place/Munk+School+of+Global+Affairs/@43.6667391,-79.3988513,18.11z/data=!4m5!3m4!1s0x41703463358176b9:0x7a4ce8d2846bb4a!8m2!3d43.6674569!4d-79.3984844',
                   "ML":'https://www.google.ca/maps/place/McLuhan+Program,+Toronto,+ON+M5S+1C5',
                   "MM":'https://www.google.ca/maps/place/MacDonald-Mowat+House,+63+St+George+St,+Toronto,+ON+M5S+2Z9',
                   "MO":'https://www.google.ca/maps/place/Morrison+Hall/@43.6631237,-79.3995561,17z/data=!4m8!1m2!2m1!1sMorrison+Hall!3m4!1s0x882b34becd727337:0x511545594082704b!8m2!3d43.6630984!4d-79.3973683',
                   "MP":'https://www.google.ca/maps/place/McLennan+Physical+Laboratories,+Toronto,+ON+M5S',
                   "MR":'https://www.google.ca/maps/place/McMurrich+Building,+12+Queens+Park+Cres+W,+Toronto,+ON+M5S+1S8',
                   "MS":'https://www.google.ca/maps/place/Medical+Sciences+Building,+1+Kings+College+Cir,+Toronto,+ON+M5S+1A8',
                   "MU":'https://www.google.ca/maps/place/Munk+School+of+Global+Affairs/@43.6650457,-79.3971692,18.34z/data=!4m5!3m4!1s0x882b34b95670c2bd:0x1239f32bfe1ddddb!8m2!3d43.6647265!4d-79.3964855',

                   "NB":'https://www.google.ca/maps/place/First+Nations+House',
                   "NC":'https://www.google.ca/maps/place/1+New+College+en+New+College,+Toronto,+ON+M5S',
                   "NF":'https://www.google.ca/maps/place/Northrop+Frye+Hall,+Toronto,+ON+M5S+1K6',
                   "NL":'https://www.google.ca/maps/place/C.+David+Naylor+Building,+University+of+Toronto',
                   "NR":'https://www.google.ca/maps/place/University+of+Toronto+-+45+Willcocks+Residence',

                   "OA":'https://www.google.ca/maps/place/Old+Admin+Bldg+Board+of+Education,+263+McCaul+St,+Toronto,+ON+M5T',
                   "OH":'https://www.google.ca/maps/place/Odette+Hall,+Toronto,+ON+M5S',
                   "OI":'https://www.google.ca/maps/place/Ontario+Institute+for+Studies+in+Education',

                   "PB":'https://www.google.ca/maps/place/Leslie+L.+Dan+Pharmacy+Bldg,+144+College+St,+Toronto,+ON+M5S+3M2',
                   "PG":'https://www.google.ca/maps/place/Physical+Geography+Laboratories',
                   "PI":'https://www.google.ca/maps/place/Pontifical+Institute+of+Mediaeval+Studies',
                   "PR":'https://www.google.ca/maps/place/E.J.+Pratt+Library',
                   "PT":'https://www.google.ca/maps/place/D.L.+Pratt+Building,+Toronto,+ON+M5S+3H5',

                   "RB":'https://www.google.ca/maps/place/Thomas+Fisher+Rare+Book+Library',
                   "RG":'https://www.google.ca/maps/place/Regis+College',
                   "RJ":'https://www.google.ca/maps/place/Rowell+Jackman+Hall,+Toronto,+ON+M5S+1K5',
                   "RL":'https://www.google.ca/maps/place/Robarts+Library',
                   "RM":'https://www.google.ca/maps/place/256+McCaul+St,+Toronto,+ON+M5T+1W5',
                   "RS":'https://www.google.ca/maps/place/Rosebrugh+Building',
                   "RT":'https://www.google.ca/maps/place/Rotman+School+of+Management',
                   "RU":'https://www.google.ca/maps/place/Rehabilitation+Sciences+Bldg,+Toronto,+ON+M5G+1V7',
                   "RW":'https://www.google.ca/maps/place/Ramsay+Wright+Laboratories,+Toronto,+ON+M5S+3G5',

                   "SA":'https://www.google.ca/maps/place/713+Spadina+Ave,+Toronto,+ON+M5S+2J4',
                   "SB":'https://www.google.ca/maps/place/487+Spadina+Crescent,+Toronto,+ON+M5S+2T4',
                   "SC":'https://www.google.ca/maps/place/Sussex+Court,+21+Sussex+Ave,+Toronto,+ON+M5S',
                   "SD":'https://www.google.ca/maps/place/Sir+Daniel+Wilson+Residence',
                   "SF":'https://www.google.ca/maps/place/Sandford+Fleming+Building',
                   "SI":'https://www.google.ca/maps/place/Simcoe+Hall,+Toronto,+ON',
                   "SK":'https://www.google.ca/maps/place/Factor-Inwentash+Faculty+of+Social+Work,+246+Bloor+St+W,+Toronto,+ON+M5S',
                   "SM":'https://www.google.ca/maps/place/Gerstein+Science+Information+Centre',
                   "SO":'https://www.google.ca/maps/place/Students+Union,+Toronto,+ON+M5S+3J9',
                   "SR":'https://www.google.ca/maps/place/Sam+Sorbara+Hall,+70+St+Joseph+St,+Toronto,+ON+M5S+3L5',
                   "SS":'https://www.google.ca/maps/place/Sidney+Smith+Hall',
                   "SU":'https://www.google.ca/maps/place/40+Sussex+Ave,+Toronto,+ON+M5S+1J7',

                   "TC":'https://www.google.ca/maps/place/Trinity+College',
                   "TF":'https://www.google.ca/maps/place/Teefy+Hall',
                   "TH":'https://www.google.ca/maps/place/Toronto+School+of+Theology',
                   "TR":'https://www.google.ca/maps/place/Soldiers+Tower',
                   "TT":'https://www.google.ca/maps/place/455+Spadina+Avenue,+455+Spadina+Ave,+Toronto,+ON+M5S+2G8',

                   "UB":'https://www.google.ca/maps/place/Burwash+Hall,+Toronto,+ON+M5S+1K6',
                   "UC":'https://www.google.ca/maps/place/University+College',
                   "UP":'https://www.google.ca/maps/place/University+College+Union,+Toronto,+ON+M5S+2E5',

                   "VA":'https://www.google.ca/maps/place/Varsity+Centre',
                   "VC":'https://www.google.ca/maps/place/Victoria+University',
                   "VI":'https://www.google.ca/maps/place/Nona+MacDonald+Visitors+Centre+%7C+University+of+Toronto',
                   "VP":'https://www.google.ca/maps/place/Varsity+Pavilion,+299+Bloor+St+W,+Toronto,+ON+M5S+1W2',

                   "WA":'https://www.google.ca/maps/place/123+St+George+St,+Toronto,+ON+M5S+2E8',
                   "WB":'https://www.google.ca/maps/place/Wallberg+Memorial+Building+WB',
                   "WE":'https://www.google.ca/maps/place/Wetmore+Hall,+Toronto,+ON+M5S+3J6',
                   "WI":'https://www.google.ca/maps/place/Wilson+Hall+-+New+College',
                   "WO":'https://www.google.ca/maps/place/Woodsworth+College+Residence',
                   "WR":'https://www.google.ca/maps/place/Dr.+Eric+Jackman+Institute+of+Child+Study',
                   "WS":'https://www.google.ca/maps/place/Athletic+Centre',
                   "WT":'https://www.google.ca/maps/place/Whitney+Hall',
                   "WW":'https://www.google.ca/maps/place/Woodsworth+College',
                   "WY":'https://www.google.ca/maps/place/Wycliffe+College',

                   "XG":'https://www.google.ca/maps/place/665+Spadina+Ave,+Toronto,+ON+M5S+2H9',
                   "ZC":'https://www.google.ca/maps/place/88+College+St,+Toronto,+ON+M5G+1L4'};

    var markers=[];
    var centers=[];

    $("#command").click(function(){

            document.getElementById("result").innerHTML = "";
            for(i=0;i<centers.length;i++) {
                centers[i].setMap(null);
            }
            centers.length=0;
            for(i=0;i<markers.length;i++) {
                markers[i].setMap(null);
            }
            markers.length=0;
            var resdict=[];
            var placeString = document.getElementById('inputName').value;
            var placeString_select = document.getElementById('list').value;
            if(placeString.length == 0){
                var place = dict[placeString_select];
                var search_input = placeString_select;
                $("#result-header").empty();
                $("#result-header").append('Restaurants around ' + placeString_select);
            } else if (!(placeString in dict)) {
                alert("Invalid Building Code");
            } else{
                var place = dict[placeString];
                var search_input = placeString;
                $("#result-header").empty();
                $("#result-header").append('Restaurants around ' + placeString);
            }
            var bound = document.getElementById('inputBound').value;
            var infowindow = new google.maps.InfoWindow();

            map.panTo(place);

            var image = 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png';
            var center = new google.maps.Marker({
                position: place,
                map: map,
                icon: image
            });
            centers.push(center);
            center.addListener('click', function () {
                if (placeString.length == 0) {
                    infowindow.setContent('<div><a href="'+urldict[placeString_select]+'">'+placeString_select+ '</a></div>');
                } else {
                    infowindow.setContent('<div><a href="'+urldict[placeString]+'">'+placeString+ '</a></div>');
                }
                infowindow.open(map, center);
            });

            /*
            service.textSearch({
                location: place,
                radius: 150,
                query: search_input
            }, findCenter);

            function createCenter(place) {
                var placeLoc = place.geometry.location;
                var center = new google.maps.Marker({
                    position: placeLoc,
                    map: map,
                    label: 'C'
                });
                centers.push(center);
                google.maps.event.addListener(center, 'click', function() {
                    infowindow.setContent('<div><a href="'+place.url+'">'+place.name+ '</a></div>');
                    infowindow.open(map, this);
                });
            }

            function findCenter(results, status) {
                if (status === google.maps.places.PlacesServiceStatus.OK) {
                    var arr = [];
                    $.each(results,function(i,item){
                        arr.push(item.place_id);
                    });

                    $.each(arr,function(i,item){
                        service.getDetails({placeId:item},function(res,status){
                            if (status === google.maps.places.PlacesServiceStatus.OK){
                                createCenter(res);
                            }
                        })
                    })
                }
            }
            */

            service.nearbySearch({
                location: place,
                radius: bound,
                type: ['restaurant']
            }, callback);

            function createMarker(place) {
                var placeLoc = place.geometry.location;
                var marker = new google.maps.Marker({
                    map: map,
                    position: placeLoc
                });
                markers.push(marker);

                google.maps.event.addListener(marker, 'click', function() {
                    infowindow.setContent('<div><a href="'+place.url+'">'+place.name+ '</a></div>');
                    infowindow.open(map, this);
                });
            }

            function callback(results, status) {
                if (status === google.maps.places.PlacesServiceStatus.OK) {
                    var arr = [];
                    $.each(results,function(i,item){
                        arr.push(item.place_id);

                    });

                    var rowItem = $(".resultrow");

                    $.each(results,function (i,item) {
                        if (item.geometry.location != undefined) {

                            var newRow = rowItem.clone(true, true);
                            var button = ' <button class="button-result" id='+item.place_id+'> <span>'+item.name+'</span> </button> <br>';

                            newRow.attr(button);

                            $('#result').append(button);
                        }
                    });
                    $.each(arr,function(i,item){
                        service.getDetails({placeId:item},function(res,status){
                            if (status === google.maps.places.PlacesServiceStatus.OK){
                                createMarker(res);
                                reslist[res.place_id]=res;
                            }


                        })

                    })

                }
            }


        }

    );
</script>
</html>
